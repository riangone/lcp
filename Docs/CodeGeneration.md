# ç¡®å®šæ€§ä»£ç ç”Ÿæˆç³»ç»Ÿæ–‡æ¡£

## ğŸ“‹ æ¦‚è¿°

æœ¬ç³»ç»Ÿæ—¨åœ¨è§£å†³ AI ç”Ÿæˆä»£ç çš„**éšæœºæ€§**å’Œ**ä¸å¯ç»´æŠ¤æ€§**é—®é¢˜ï¼Œé€šè¿‡ä»¥ä¸‹æœºåˆ¶ç¡®ä¿ç”Ÿæˆçš„ä»£ç æ˜¯**ç¨³å®šçš„ã€ä¸€è‡´çš„ã€å¯ç»´æŠ¤çš„**ï¼š

1. **æ¨¡æ¿é©±åŠ¨ç”Ÿæˆ** - ä½¿ç”¨é¢„å®šä¹‰çš„ä»£ç æ¨¡æ¿ï¼Œç¡®ä¿æ¯æ¬¡ç”Ÿæˆçš„ä»£ç ç»“æ„ä¸€è‡´
2. **ç‰ˆæœ¬ç®¡ç†** - è¿½è¸ªæ¯æ¬¡ä»£ç ç”Ÿæˆçš„ç‰ˆæœ¬ï¼Œæ”¯æŒå›æ»šå’Œå·®å¼‚æ¯”è¾ƒ
3. **è´¨é‡éªŒè¯** - è‡ªåŠ¨éªŒè¯ç”Ÿæˆä»£ç çš„è¯­æ³•ã€é£æ ¼å’Œè´¨é‡
4. **å˜æ›´æ£€æµ‹** - åªåœ¨ YAML å®šä¹‰å˜æ›´æ—¶é‡æ–°ç”Ÿæˆä»£ç 
5. **ç¡®å®šæ€§è¾“å‡º** - ç›¸åŒçš„è¾“å…¥å§‹ç»ˆäº§ç”Ÿç›¸åŒçš„è¾“å‡º

## ğŸ—ï¸ æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CodeGenerationService                     â”‚
â”‚                      (ç»Ÿä¸€å…¥å£æœåŠ¡)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                     â”‚                     â”‚
        â–¼                     â–¼                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ModelCodeGeneratorâ”‚ â”‚CodeVersionManagerâ”‚ â”‚CodeQualityValidatorâ”‚
â”‚   (ä»£ç ç”Ÿæˆå™¨)    â”‚ â”‚   (ç‰ˆæœ¬ç®¡ç†å™¨)    â”‚ â”‚   (è´¨é‡éªŒè¯å™¨)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                     â”‚                     â”‚
        â”‚                     â”‚                     â”‚
        â–¼                     â–¼                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CodeTemplateEngineâ”‚ â”‚  versions.json   â”‚ â”‚  Roslyn Analyzer â”‚
â”‚   (æ¨¡æ¿å¼•æ“)      â”‚ â”‚  (ç‰ˆæœ¬å­˜å‚¨)      â”‚ â”‚  (ä»£ç åˆ†æ)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“¦ æ ¸å¿ƒç»„ä»¶

### 1. ICodeGenerator (ä»£ç ç”Ÿæˆå™¨æ¥å£)

å®šä¹‰ä»£ç ç”Ÿæˆçš„æ ‡å‡†æ¥å£ï¼š

```csharp
public interface ICodeGenerator
{
    string GeneratorId { get; }
    string Version { get; }
    Task<CodeGenerationResult> GenerateAsync(CodeGenerationContext context);
    Task<CodeValidationResult> ValidateAsync(CodeGenerationResult result);
}
```

### 2. ModelCodeGenerator (æ¨¡å‹ä»£ç ç”Ÿæˆå™¨)

ä» `ModelDefinition` ç”Ÿæˆç¡®å®šæ€§ä»£ç ï¼š

- ç”Ÿæˆ API æ§åˆ¶å™¨
- ç”ŸæˆéªŒè¯å™¨
- ç”ŸæˆæœåŠ¡å±‚ï¼ˆå¯é€‰ï¼‰
- ç”Ÿæˆå•å…ƒæµ‹è¯•ï¼ˆå¯é€‰ï¼‰

### 3. CodeTemplateEngine (ä»£ç æ¨¡æ¿å¼•æ“)

ä½¿ç”¨æ¨¡æ¿ç¡®ä¿ä»£ç ä¸€è‡´æ€§ï¼š

```csharp
var engine = new CodeTemplateEngine();
var code = engine.Render("ApiController", new TemplateContext
{
    Namespace = "Platform.Api",
    Model = new ModelTemplateContext { Name = "Product" }
});
```

### 4. CodeVersionManager (ä»£ç ç‰ˆæœ¬ç®¡ç†å™¨)

ç®¡ç†ä»£ç ç‰ˆæœ¬å’Œå˜æ›´è¿½è¸ªï¼š

- ä¿å­˜æ¯æ¬¡ç”Ÿæˆçš„ç‰ˆæœ¬
- æ¯”è¾ƒç‰ˆæœ¬å·®å¼‚
- æ”¯æŒå›æ»š
- æ£€æµ‹ YAML å˜æ›´

### 5. CodeQualityValidator (ä»£ç è´¨é‡éªŒè¯å™¨)

éªŒè¯ç”Ÿæˆä»£ç çš„è´¨é‡ï¼š

- C# è¯­æ³•åˆ†æï¼ˆä½¿ç”¨ Roslynï¼‰
- ä»£ç é£æ ¼æ£€æŸ¥
- å‘½åè§„èŒƒéªŒè¯
- å¤æ‚åº¦åˆ†æ

### 6. CodeGenerationService (ä»£ç ç”ŸæˆæœåŠ¡)

ç»Ÿä¸€å…¥å£ï¼Œæ•´åˆæ‰€æœ‰ç»„ä»¶ï¼š

```csharp
var service = new CodeGenerationService(settings);
var result = await service.GenerateFromYamlAsync(
    "Definitions/app.yaml",
    "output"
);
```

## ğŸš€ ä½¿ç”¨æŒ‡å—

### åŸºæœ¬ä½¿ç”¨

```csharp
using Platform.Application.CodeGeneration;

// 1. åˆ›å»ºæœåŠ¡
var settings = new CodeGenerationSettings
{
    RootNamespace = "Platform.Api",
    VersionDirectory = ".code_versions",
    AddHeaderComments = true,
    FailOnQualityError = false
};

var service = new CodeGenerationService(settings);

// 2. ä» YAML ç”Ÿæˆä»£ç 
var result = await service.GenerateFromYamlAsync(
    yamlFilePath: "Definitions/app.yaml",
    outputDirectory: "Generated",
    modelKey: null // null è¡¨ç¤ºç”Ÿæˆæ‰€æœ‰æ¨¡å‹
);

// 3. æ£€æŸ¥ç»“æœ
if (result.Success)
{
    Console.WriteLine($"ç”Ÿæˆå®Œæˆï¼Œè€—æ—¶ï¼š{result.Duration:F2}ç§’");
    foreach (var kvp in result.ModelResults)
    {
        var modelResult = kvp.Value;
        Console.WriteLine($"  {kvp.Key}: {(modelResult.Success ? "æˆåŠŸ" : "å¤±è´¥")}");
        Console.WriteLine($"    æ–‡ä»¶ï¼š{modelResult.WrittenFiles.Count}");
        Console.WriteLine($"    è´¨é‡è¯„åˆ†ï¼š{modelResult.QualityReport?.OverallScore:F1}");
    }
}
```

### ç”Ÿæˆå•ä¸ªæ¨¡å‹

```csharp
// åªç”Ÿæˆ Artist æ¨¡å‹çš„ä»£ç 
var result = await service.GenerateFromYamlAsync(
    "Definitions/app.yaml",
    "Generated",
    modelKey: "Artist"
);
```

### æŸ¥çœ‹ç‰ˆæœ¬å†å²

```csharp
// è·å–ç‰ˆæœ¬å†å²
var versions = await service.GetVersionHistoryAsync("Artist");
foreach (var version in versions.OrderByDescending(v => v.GeneratedAt))
{
    Console.WriteLine($"{version.VersionId} - {version.GeneratedAt}");
    Console.WriteLine($"  YAML Hash: {version.YamlHash}");
    Console.WriteLine($"  å˜æ›´ï¼š{version.ChangeDescription}");
}
```

### æ¯”è¾ƒç‰ˆæœ¬å·®å¼‚

```csharp
// æ¯”è¾ƒä¸¤ä¸ªç‰ˆæœ¬
var diff = await service.CompareVersionsAsync(
    "v20260219-120000-1234",
    "v20260219-140000-5678"
);

Console.WriteLine($"æ–°å¢æ–‡ä»¶ï¼š{diff.AddedFiles.Count}");
Console.WriteLine($"ä¿®æ”¹æ–‡ä»¶ï¼š{diff.ModifiedFiles.Count}");
Console.WriteLine($"åˆ é™¤æ–‡ä»¶ï¼š{diff.DeletedFiles.Count}");
```

### å›æ»šåˆ°æŒ‡å®šç‰ˆæœ¬

```csharp
// å›æ»š
var success = await service.RollbackAsync("v20260219-120000-1234");
```

### éªŒè¯ç°æœ‰ä»£ç 

```csharp
// éªŒè¯ç°æœ‰ä»£ç è´¨é‡
var report = await service.ValidateExistingCodeAsync("Platform.Api");
Console.WriteLine($"æ€»ä½“è¯„åˆ†ï¼š{report.OverallScore:F1}");
Console.WriteLine($"é—®é¢˜æ•°ï¼š{report.Issues.Count}");
```

## âš™ï¸ é…ç½®é€‰é¡¹

### CodeGenerationSettings

| å±æ€§ | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| `RootNamespace` | string | "Platform.Api" | æ ¹å‘½åç©ºé—´ |
| `VersionDirectory` | string | ".code_versions" | ç‰ˆæœ¬å­˜å‚¨ç›®å½• |
| `IndentSize` | int | 4 | ä»£ç ç¼©è¿›å¤§å° |
| `AddHeaderComments` | bool | true | æ·»åŠ æ–‡ä»¶å¤´æ³¨é‡Š |
| `GenerateProjectFiles` | bool | true | ç”Ÿæˆé¡¹ç›®æ–‡ä»¶ |
| `ForceRegenerate` | bool | false | å¼ºåˆ¶é‡æ–°ç”Ÿæˆ |
| `FailOnQualityError` | bool | false | è´¨é‡å¤±è´¥æ—¶åœæ­¢ |

### CodeGenerationOptions

| å±æ€§ | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| `GenerateApiController` | bool | true | ç”Ÿæˆ API æ§åˆ¶å™¨ |
| `GenerateUiController` | bool | true | ç”Ÿæˆ UI æ§åˆ¶å™¨ |
| `GenerateViews` | bool | true | ç”Ÿæˆ Razor è§†å›¾ |
| `GenerateServices` | bool | false | ç”ŸæˆæœåŠ¡å±‚ |
| `GenerateRepositories` | bool | false | ç”Ÿæˆä»“å‚¨å±‚ |
| `GenerateValidators` | bool | true | ç”ŸæˆéªŒè¯å™¨ |
| `GenerateTests` | bool | false | ç”Ÿæˆå•å…ƒæµ‹è¯• |
| `OverwriteExisting` | bool | false | è¦†ç›–ç°æœ‰æ–‡ä»¶ |
| `FormatCode` | bool | true | æ ¼å¼åŒ–ä»£ç  |

### CodeQualityRules

| å±æ€§ | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| `MaxLineLength` | int | 160 | æœ€å¤§è¡Œé•¿åº¦ |
| `MaxFileLength` | int | 1000 | æœ€å¤§æ–‡ä»¶é•¿åº¦ |
| `MaxClassLength` | int | 500 | æœ€å¤§ç±»é•¿åº¦ |
| `MaxCyclomaticComplexity` | int | 15 | æœ€å¤§åœˆå¤æ‚åº¦ |
| `CheckTrailingWhitespace` | bool | true | æ£€æŸ¥å°¾éšç©ºæ ¼ |
| `RequireNewlineAtEndOfFile` | bool | true | è¦æ±‚æ–‡ä»¶æœ«å°¾ç©ºè¡Œ |
| `RequireFileHeader` | bool | true | è¦æ±‚æ–‡ä»¶å¤´æ³¨é‡Š |

## ğŸ“ ä»£ç æ¨¡æ¿

### å†…ç½®æ¨¡æ¿

ç³»ç»Ÿé¢„ç½®ä»¥ä¸‹æ¨¡æ¿ï¼š

1. **ApiController** - API æ§åˆ¶å™¨æ¨¡æ¿
2. **Validator** - éªŒè¯å™¨æ¨¡æ¿
3. **Service** - æœåŠ¡å±‚æ¨¡æ¿
4. **UnitTest** - å•å…ƒæµ‹è¯•æ¨¡æ¿

### è‡ªå®šä¹‰æ¨¡æ¿

```csharp
var engine = new CodeTemplateEngine();

// æ³¨å†Œè‡ªå®šä¹‰æ¨¡æ¿
engine.RegisterTemplate("CustomController", @"
using Microsoft.AspNetCore.Mvc;

namespace {{Namespace}}.Controllers;

/// <summary>
/// {{Model.Name}} è‡ªå®šä¹‰æ§åˆ¶å™¨
/// </summary>
public class {{Model.Name}}Controller : ControllerBase
{
    // è‡ªå®šä¹‰å®ç°
}
");

// ä½¿ç”¨æ¨¡æ¿
var code = engine.Render("CustomController", context);
```

### æ¨¡æ¿è¯­æ³•

```
// å˜é‡æ›¿æ¢
{{Namespace}}
{{Model.Name}}
{{GeneratorVersion}}

// æ¡ä»¶å—
{{#if GenerateServices}}
// ç”ŸæˆæœåŠ¡ä»£ç 
{{/if}}

// å¾ªç¯å—
{{#each Properties}}
public {{Type}} {{Name}} { get; set; }
{{/each}}
```

## ğŸ”„ å·¥ä½œæµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ YAML å®šä¹‰    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è®¡ç®— YAML å“ˆå¸Œ â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ£€æŸ¥ç‰ˆæœ¬å†å² â”‚â”€â”€â”€â”€â–¶â”‚ æœ‰å˜æ›´ï¼Ÿ     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ No         â”‚ Yes        â”‚
              â”‚            â”‚            â”‚
              â–¼            â–¼            â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ è·³è¿‡   â”‚  â”‚ ç”Ÿæˆä»£ç   â”‚  â”‚ è´¨é‡éªŒè¯ â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                           â”‚             â”‚
                           â–¼             â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ ä¿å­˜ç‰ˆæœ¬  â”‚  â”‚ é€šè¿‡ï¼Ÿ   â”‚
                    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                          â”‚             â”‚
                          â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”
                          â”‚      â”‚ No   â”‚ Yes  â”‚
                          â”‚      â”‚      â”‚      â”‚
                          â”‚      â–¼      â–¼      â”‚
                          â”‚ â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”‚
                          â”‚ â”‚ æŠ¥é”™ â”‚ â”‚ å†™å…¥ â”‚ â”‚
                          â”‚ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”€â”˜ â”‚
                          â”‚             â”‚      â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚
                                        â–¼
                                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                 â”‚ å®Œæˆ     â”‚
                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š ç‰ˆæœ¬å­˜å‚¨ç»“æ„

```
.code_versions/
â”œâ”€â”€ versions.json              # ç‰ˆæœ¬å…ƒæ•°æ®
â”œâ”€â”€ v20260219-120000-1234/     # ç‰ˆæœ¬ç›®å½•
â”‚   â”œâ”€â”€ Controllers/
â”‚   â”‚   â””â”€â”€ ArtistController.cs
â”‚   â”œâ”€â”€ Validators/
â”‚   â”‚   â””â”€â”€ ArtistValidator.cs
â”‚   â””â”€â”€ ...
â”œâ”€â”€ v20260219-140000-5678/
â”‚   â””â”€â”€ ...
â””â”€â”€ ...
```

### versions.json æ ¼å¼

```json
[
  {
    "versionId": "v20260219-120000-1234",
    "modelKey": "Artist",
    "yamlHash": "abc123...",
    "generatedAt": "2026-02-19T12:00:00Z",
    "changeDescription": "åˆå§‹ç”Ÿæˆ",
    "generatorVersion": "1.0.0",
    "fileCount": 2,
    "contentHash": "def456...",
    "status": "active",
    "changesFromPrevious": null
  }
]
```

## âœ… è´¨é‡ä¿è¯

### è¯­æ³•éªŒè¯

- C# è¯­æ³•æ­£ç¡®æ€§ï¼ˆä½¿ç”¨ Roslynï¼‰
- Razor è¯­æ³•æ­£ç¡®æ€§
- æ‹¬å·åŒ¹é…
- å‘½åç©ºé—´å£°æ˜

### ä»£ç é£æ ¼

- è¡Œé•¿åº¦é™åˆ¶
- å°¾éšç©ºæ ¼æ£€æŸ¥
- æ–‡ä»¶æœ«å°¾ç©ºè¡Œ
- ç¼©è¿›ä¸€è‡´æ€§

### å‘½åè§„èŒƒ

- ç±»åï¼šPascalCase
- æ–¹æ³•åï¼šPascalCase
- å­—æ®µåï¼šcamelCase æˆ– _camelCase

### å¤æ‚åº¦æ§åˆ¶

- åœˆå¤æ‚åº¦ â‰¤ 15
- ç±»é•¿åº¦ â‰¤ 500 è¡Œ
- æ–‡ä»¶é•¿åº¦ â‰¤ 1000 è¡Œ

## ğŸ”§ æœ€ä½³å®è·µ

### 1. é¦–æ¬¡ç”Ÿæˆ

```csharp
// é¦–æ¬¡ç”Ÿæˆæ—¶ï¼Œå»ºè®®å¯ç”¨æ‰€æœ‰é€‰é¡¹
var settings = new CodeGenerationSettings
{
    GenerateProjectFiles = true,
    AddHeaderComments = true,
    OverwriteExisting = true // é¦–æ¬¡å¯ä»¥è¦†ç›–
};
```

### 2. å¢é‡ç”Ÿæˆ

```csharp
// åç»­ç”Ÿæˆæ—¶ï¼Œåªç”Ÿæˆå˜æ›´çš„éƒ¨åˆ†
var settings = new CodeGenerationSettings
{
    ForceRegenerate = false, // é»˜è®¤ä¸å¼ºåˆ¶
    OverwriteExisting = false // ä¸è¦†ç›–ç°æœ‰æ–‡ä»¶
};
```

### 3. CI/CD é›†æˆ

```csharp
// åœ¨ CI/CD ä¸­ï¼Œå¯ç”¨ä¸¥æ ¼æ¨¡å¼
var settings = new CodeGenerationSettings
{
    FailOnQualityError = true,
    TreatWarningsAsErrors = true
};

var result = await service.GenerateFromYamlAsync(...);
if (!result.Success)
{
    Environment.Exit(1);
}
```

### 4. ç‰ˆæœ¬å®¡æŸ¥

```csharp
// å®šæœŸå®¡æŸ¥ç‰ˆæœ¬å†å²
var versions = await service.GetVersionHistoryAsync("Artist");
var recentChanges = versions
    .OrderByDescending(v => v.GeneratedAt)
    .Take(10);

foreach (var version in recentChanges)
{
    Console.WriteLine($"{version.VersionId}: {version.ChangeDescription}");
}
```

## ğŸ› æ•…éšœæ’é™¤

### é—®é¢˜ï¼šç”Ÿæˆçš„ä»£ç ä¸é¢„æœŸä¸ç¬¦

**è§£å†³**ï¼š
1. æ£€æŸ¥ YAML å®šä¹‰æ˜¯å¦æ­£ç¡®
2. æŸ¥çœ‹æ¨¡æ¿å†…å®¹æ˜¯å¦ç¬¦åˆé¢„æœŸ
3. æ£€æŸ¥ `TemplateContext` æ˜¯å¦æ­£ç¡®å¡«å……

### é—®é¢˜ï¼šè´¨é‡éªŒè¯å¤±è´¥

**è§£å†³**ï¼š
1. æŸ¥çœ‹ `QualityReport.Issues` è¯¦æƒ…
2. è°ƒæ•´ `CodeQualityRules` é…ç½®
3. æ£€æŸ¥æ¨¡æ¿æ˜¯å¦ç¬¦åˆè§„èŒƒ

### é—®é¢˜ï¼šç‰ˆæœ¬ç®¡ç†å¼‚å¸¸

**è§£å†³**ï¼š
1. æ£€æŸ¥ `.code_versions/versions.json` æ˜¯å¦æŸå
2. åˆ é™¤ç‰ˆæœ¬ç›®å½•é‡æ–°ç”Ÿæˆ
3. ç¡®ä¿ YAML å“ˆå¸Œè®¡ç®—ä¸€è‡´

## ğŸ“ˆ æ‰©å±•ç‚¹

### æ·»åŠ è‡ªå®šä¹‰ç”Ÿæˆå™¨

```csharp
public class CustomCodeGenerator : ICodeGenerator
{
    public string GeneratorId => "custom-generator";
    public string Version => "1.0.0";

    public async Task<CodeGenerationResult> GenerateAsync(CodeGenerationContext context)
    {
        // è‡ªå®šä¹‰ç”Ÿæˆé€»è¾‘
        return await Task.FromResult(new CodeGenerationResult());
    }

    public async Task<CodeValidationResult> ValidateAsync(CodeGenerationResult result)
    {
        // è‡ªå®šä¹‰éªŒè¯é€»è¾‘
        return await Task.FromResult(new CodeValidationResult());
    }
}
```

### æ·»åŠ è‡ªå®šä¹‰éªŒè¯è§„åˆ™

```csharp
var rules = new CodeQualityRules
{
    MaxLineLength = 120, // æ›´ä¸¥æ ¼çš„è¡Œé•¿åº¦
    MaxCyclomaticComplexity = 10 // æ›´ä¸¥æ ¼çš„å¤æ‚åº¦
};

var validator = new CodeQualityValidator(rules);
```

### æ·»åŠ è‡ªå®šä¹‰æ¨¡æ¿

```csharp
var engine = new CodeTemplateEngine();
engine.RegisterTemplate("MyTemplate", @"
// è‡ªå®šä¹‰æ¨¡æ¿å†…å®¹
");
```

## ğŸ“š ç›¸å…³æ–‡ä»¶

- `ICodeGenerator.cs` - ä»£ç ç”Ÿæˆå™¨æ¥å£
- `CodeTemplateEngine.cs` - ä»£ç æ¨¡æ¿å¼•æ“
- `ModelCodeGenerator.cs` - æ¨¡å‹ä»£ç ç”Ÿæˆå™¨
- `CodeVersionManager.cs` - ä»£ç ç‰ˆæœ¬ç®¡ç†å™¨
- `CodeQualityValidator.cs` - ä»£ç è´¨é‡éªŒè¯å™¨
- `CodeGenerationService.cs` - ä»£ç ç”ŸæˆæœåŠ¡

## ğŸ¯ æ€»ç»“

é€šè¿‡æœ¬ç³»ç»Ÿï¼Œæ‚¨å¯ä»¥ï¼š

1. âœ… **ç¡®å®šæ€§ç”Ÿæˆ** - ç›¸åŒ YAML å§‹ç»ˆç”Ÿæˆç›¸åŒä»£ç 
2. âœ… **ç‰ˆæœ¬è¿½è¸ª** - è®°å½•æ¯æ¬¡å˜æ›´ï¼Œæ”¯æŒå›æ»š
3. âœ… **è´¨é‡ä¿è¯** - è‡ªåŠ¨éªŒè¯è¯­æ³•ã€é£æ ¼ã€å¤æ‚åº¦
4. âœ… **å˜æ›´æ£€æµ‹** - åªåœ¨å¿…è¦æ—¶é‡æ–°ç”Ÿæˆ
5. âœ… **å¯ç»´æŠ¤æ€§** - ç”Ÿæˆçš„ä»£ç ç»“æ„ä¸€è‡´ï¼Œæ˜“äºç»´æŠ¤

è¿™ç¡®ä¿äº† AI ç”Ÿæˆçš„ä»£ç æ˜¯**ç¨³å®šè¿è¡Œçš„ã€ç»Ÿä¸€çš„ã€å¯ç»´æŠ¤çš„**åº”ç”¨ç¨‹åºï¼Œè€Œä¸æ˜¯æ¯æ¬¡åˆ›å»ºéšæœºçš„ä»£ç ã€‚
